(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2790:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(7705)}])},7705:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(7876),i=s(4232),l=s(553);function r(){let[e,a]=(0,i.useState)(""),[s,r]=(0,i.useState)(""),[n,d]=(0,i.useState)(""),[o,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),p=async()=>{c(!0),m("");try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:n})}),t=await a.json().catch(()=>({}));a.ok?(g(!0),setTimeout(()=>{window.location.href="/dashboard"},800)):m(t.error||t.message||"Registration failed")}catch(e){m("Network error, try again.")}finally{c(!1)}};return(0,t.jsx)("div",{className:"page-shell",children:(0,t.jsxs)("form",{className:"form card",onSubmit:e=>{e.preventDefault(),o||p()},children:[(0,t.jsxs)("div",{className:"brand",style:{marginBottom:12},children:[(0,t.jsx)("div",{className:"logo",children:"M4V"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"title",children:"Create Your Account"}),(0,t.jsx)("div",{className:"subtitle",children:"Join MEALS4V"})]})]}),(0,t.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,t.jsx)("input",{id:"name",className:"input","data-testid":"name",value:e,onChange:e=>a(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("label",{htmlFor:"reg-email",children:"Email Address"}),(0,t.jsx)("input",{id:"reg-email",className:"input","data-testid":"email",type:"email",value:s,onChange:e=>r(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("label",{htmlFor:"reg-password",children:"Password"}),(0,t.jsx)("input",{id:"reg-password",className:"input","data-testid":"password",type:"password",value:n,onChange:e=>d(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("button",{type:"submit",className:"btn","data-testid":"register-button",disabled:o,"aria-busy":o,children:o?"Creating…":"Create Account"}),h&&(0,t.jsx)("div",{role:"alert",className:"muted","data-testid":"success-message",style:{marginTop:12},children:"Registration successful! Redirecting…"}),u&&(0,t.jsx)("p",{role:"alert",className:"muted","data-testid":"email-error",style:{marginTop:12},children:u}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("button",{type:"button",className:"btn-ghost","data-testid":"register-google",onClick:()=>(0,l.signIn)("google"),"aria-label":"Continue with Google",children:"Continue with Google"})]})})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2790)),_N_E=e.O()}]);