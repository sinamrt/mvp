(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2790:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(7705)}])},7705:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(7876),i=s(4232);function l(){let[e,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[r,n]=(0,i.useState)(""),[d,c]=(0,i.useState)(!1),[o,u]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),g=async()=>{c(!0),u("");try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:s,password:r})}),t=await a.json().catch(()=>({}));a.ok?(h(!0),setTimeout(()=>{window.location.href="/dashboard"},800)):u((null==t?void 0:t.error)||(null==t?void 0:t.message)||"Registration failed")}catch(e){u("Network error, try again.")}finally{c(!1)}};return(0,t.jsx)("div",{className:"page-shell",children:(0,t.jsxs)("div",{className:"form card",children:[(0,t.jsxs)("div",{className:"brand",style:{marginBottom:12},children:[(0,t.jsx)("div",{className:"logo",children:"M4V"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"title",children:"Create Your Account"}),(0,t.jsx)("div",{className:"subtitle",children:"Join MEALS4V"})]})]}),(0,t.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,t.jsx)("input",{id:"name",className:"input","data-testid":"name",value:e,onChange:e=>a(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("label",{htmlFor:"reg-email",children:"Email Address"}),(0,t.jsx)("input",{id:"reg-email",className:"input","data-testid":"email",type:"email",value:s,onChange:e=>l(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("label",{htmlFor:"reg-password",children:"Password"}),(0,t.jsx)("input",{id:"reg-password",className:"input","data-testid":"password",type:"password",value:r,onChange:e=>n(e.target.value)}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("button",{className:"btn","data-testid":"register-button",onClick:g,disabled:d,"aria-busy":d,children:d?"Creating…":"Create Account"}),m&&(0,t.jsx)("div",{role:"alert",className:"muted","data-testid":"success-message",style:{marginTop:12},children:"Registration successful! Redirecting…"}),o&&(0,t.jsx)("p",{role:"alert",className:"muted","data-testid":"email-error",style:{marginTop:12},children:o}),(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("link",{className:"btn-ghost",href:"/api/auth/google","data-testid":"register-google",children:"Continue with Google"})]})})}}},e=>{e.O(0,[636,593,792],()=>e(e.s=2790)),_N_E=e.O()}]);